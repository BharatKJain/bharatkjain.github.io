{% extends "base.html" %}

{% block main %}
  <main>
    {%- if taxonomy.term %}
      <h3 style="margin-bottom:0">Filtering for "{{ section.title }}"</h3>
      <small>
        <a href="{{ get_url(path="@/posts/_index.md") }}">Remove filter</a>
      </small>
    {%- else %}
      <div class="section-header">
        <h1>{{ section.title }}</h1>
        <p>{{ section.description | markdown | safe }}</p>
      </div>
    {%- endif %}
    <ul class="blog-posts">
      {% for page in section.pages %}
        <li>
          <span>
            <i>
              <time datetime='{{ page.date | date(format='%+') }}' pubdate>
                {{ page.date | date(format=config.extra.date_format) }}
              </time>
            </i>
          </span>
          <a href="{{ page.permalink }}">{{ page.title }}</a>
        </li>
        {% else %}
        <li>
          No posts yet
        </li>
      {% endfor %}
    </ul>
    <small>
      <div>
        {% set tags = get_taxonomy(kind="tags") %}
        {% for post in tags.items %}
          <a href="{{ post.permalink }}">#{{ post.name }}</a>&nbsp;
        {% endfor %}
      </div>
    </small>
  </main>
{% endblock %}
